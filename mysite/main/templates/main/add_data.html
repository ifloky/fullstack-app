 {% extends 'main/header.html' %}

  {% block content %}

   <style xmlns="http://www.w3.org/1999/html">
    form {
        margin-left: 12%;
        width: 80%;
        margin-top: 2%;
    }
    .flex-wrap {display:flex;}
    .flex-wrap label {width:400px;margin-right:auto;}
    .flex-wrap button {width:450px;margin-right:auto;}
    .flex-wrap input {width:calc(100% - 50px);}
    .flex-wrap select {width:calc(100% - 250px);}
  </style>

  {% if user.is_authenticated %}

    <div style="padding:5px;margin-top:30px;">

        <form action="" method="post">
            {% csrf_token %}
            {{ form.as_p }}
            <button class="btn btn-success" type="submit">Сохранить</button>
        </form>

    </div>

  {% else %}

        {% include 'main/includes/non_authorised.html' %}

  {% endif %}

  <script>
  //Добавление переноса строки

  const myTextArea = document.getElementById("text");
  myTextArea.addEventListener("keydown", function(e) {
    if (e.keyCode === 13) {
      e.preventDefault();
      const start = this.selectionStart;
      const end = this.selectionEnd;
      const value = this.value;
      this.value = value.substring(0, start) + "\n" + value.substring(end);
      this.selectionStart = this.selectionEnd = start + 1;
    }
  });
</script>

  {% endblock %}
