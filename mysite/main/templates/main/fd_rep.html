{% extends 'main/header.html' %}


  {% block content %}

  <style xmlns="http://www.w3.org/1999/html">
    form {
        display: flex;
        align-items: center;
        justify-content: right;
    }

    .flex-wrap {display:flex;}
    .flex-wrap label {width:400px;margin-right:auto;}
    .flex-wrap button {width:450px;margin-right:auto;}
    .flex-wrap input {width:calc(100% - 50px);}
    .flex-wrap select {width:calc(100% - 250px);}

    input {
        width: 20px;
        padding: 8px 20px;
        margin: 8px 0;
        margin-right: 20px;
        box-sizing: border-box;
        border: 1px solid #ccc;
        -webkit-transition: 0.5s;
        transition: 0.5s;
        outline: none;
        height: 60px;
        border-radius: 10px;
    }

    button {
        width: 120px;
        padding: 6px 30px;
        margin: 8px 0;
    }

    th {
        vertical-align:
        middle !important;
        text-align: center;
    }

    td {
        vertical-align:
        middle !important;
        text-align: center;
        font-weight: bold;
    }

    label.filter {
        margin-right: 10px;
        display:flex;
        align-items: center;
        height: 60px;
        border: 1px solid #ccc;
        border-radius: 10px;
        padding: 0 30px;
        cursor: pointer;
        text-align: center;
    }

    label.filter:hover {
        background: #d9d9d9;
    }

    select {
        height: 60px;
        border-radius: 10px !important;
        margin-right: 10px;
        cursor: pointer;
    }

    select:hover {
        background: #d9d9d9;
    }

    button {
        height: 60px;
        border-radius: 10px !important;
    }

    button:hover {
        background: #d9d9d9;
    }

    table {
    counter-reset: rowNumber;
    }

    table .table_date {
        counter-increment: rowNumber;
    }

    table .table_date th:first-child::before {
        content: counter(rowNumber);
        min-width: 1em;
        margin-right: 1.5em;
    }
    </style>

  {% if user.is_authenticated %}

    <div style="padding: 20px 0px;padding-left:9.5%;margin-top:30px;width:98%;display:flex">
    <table class="table table-striped">
      <thead>
        <tr align="center">
            <th scope="col" width="200">ID Клиента</th>
            <th scope="col">Отметка о верификации</th>
            <th scope="col">Отметка о блокировке</th>
            <th scope="col">Сумма первого депозита</th>
            <th scope="col">Дата первого депозита</th>
            <th scope="col">Дата верификации</th>
        </tr>
      </thead>
      <tbody>
        {% for report in first_deposit %}
            <tr>
                {% for x in report %}
                    <td class="table_date" align="center">{{ x }}</td>
                {% endfor %}
            </tr>
        {% endfor %}
      </tbody>
    </table>
    </div>

  {% else %}

        {% include 'main/includes/non_authorised.html' %}

  {% endif %}

<script type="text/javascript">

    let td = document.querySelectorAll('tr td:nth-child(1)'); //получаем первый td
    console.log( td);
    for (var i = 0; i < td.length; i++) {
    let tdIn = td[i].innerHTML //получаем что внутри td
    const linkA = document.createElement('a'); //создаём ссылку
    linkA.innerHTML = tdIn; //вписываем текст по которому кликаем на ссылке
    linkA.href = 'https://backoffice.betconstruct.com/#/customers/detail/'+tdIn; // вписываем саму ссылку куда переходим
    linkA.target = '_blank'; // открываем ссылку в новой вкладке
    td[i].innerHTML = ''; // опустошаем то что было в td
    td[i].prepend(linkA); // вставляем линк в td
    }

</script>

  {% endblock %}